<aside class="sidebar" [class.collapsed]="collapsed" [ngClass]="{
    'bg-white border-gray-200 text-black': !isDarkMode,
    'bg-gray-800 border-gray-700 text-gray-100': isDarkMode
  }">
    <div class="scroll-wrap">
        <ul class="space-y-1 p-2 text-sm">
            <ng-container *ngFor="let m of menus">
                <li>
                    <!-- Parent -->
                    <div class="menu-item" [ngClass]="{
              active: isActive(m.RouteUrl) || activeId === m.MenuId
            }" (click)="m.children?.length ? toggle(m) : navigate(m)"
                        [attr.data-tooltip]="collapsed ? m.MenuName : null">
                        <i class="mdi" [ngClass]="m.IconName"></i>
                        <span *ngIf="!collapsed">{{ m.MenuName }}</span>
                        <i *ngIf="m.children?.length && !collapsed" class="mdi ml-auto text-gray-500"
                            [ngClass]="activeId === m.MenuId ? 'mdi-chevron-up' : 'mdi-chevron-down'"></i>
                    </div>

                    <!-- Submenu -->
                    <ul *ngIf="m.children?.length && activeId === m.MenuId && !collapsed"
                        class="mt-1 ml-5 border-l border-gray-200 flex flex-col gap-1">
                        <li *ngFor="let s of m.children"
                            class="flex items-center gap-2 p-2 pl-4 rounded-md cursor-pointer hover:bg-[#E53935]/10 transition-all"
                            [ngClass]="{ 'bg-[#E53935]/10 font-medium': isActive(s.RouteUrl) }" (click)="navigate(s)">
                            <i class="mdi text-sm" [ngClass]="s.IconName"></i>
                            <span>{{ s.MenuName }}</span>
                        </li>
                    </ul>
                </li>
            </ng-container>
        </ul>
    </div>
</aside>